# 单片机

51单片机 IO口 显示电路 AD转换 传感器

### 51单片机 IO口 

标准51的P0口在作为I/O口使用时，是开漏结构，在实际应用中通常要添加上拉电阻；P1、P2、P3都是准双向I/O，内部有上拉电阻，既可作为输入又可以作为输出。

P3口有复用功能,串行传输,外部中断,定时器等等,P2和P0可以作为地址口用,P1就是普通的IO口

#### P3端口有第二功能
P3.0 RXD, P3.1 TXD
P3.2 INT0, P3.3 INT1
P3接口的一位接口线倘若处于设置成第二功能，是否就不能用作第一功能的通用I/O口呢？
结论：即使将P3接口设置成第二功能，但是第一功能的通用I/O口功能仍然存在。
https://www.cnblogs.com/amanlikethis/archive/2013/05/20/3088417.html


#### 4种IO口模式
而LPC900系列单片机可以有4种IO口模式，分别是：准双向IO口模式、推挽输出模式、高阻输入模式和开漏输出模式。每个IO口的模式配置，需要两个寄存器结合起来进行设置。这两个寄存器分别是PnM1和PnM0,（在STC8系列芯片中n=0,1,2,3,4,5,6,7）

准双向I/O模式与标准51相比，虽然在内部结构上是不同的，但在用法上类同，比如要作为输入时都必须先写“1”置成高电平，然后才能去读引脚的电平状态。！！！！！为什么是这样子？见下面图解分析。

   推挽输出的特点是不论输出高电平还是低电平都能驱动较大的电流，比如输出高电平时可以直接点亮LED(要串联几百欧限流电阻)，而在准双向I/O模式下很难办到。

  高阻输入模式的特点是只能作为输入使用，但是可以获得比较高的输入阻抗，这在模拟比较器和ADC应用中是必需的。

  开漏模式与准双向模式相似，但是没有内部上拉电阻。开漏模式的优点是电气兼容性好，外部上拉电阻接3V电源，就能和3V逻辑器件接口，如果上拉电阻接5V电源，又可以与5V逻辑器件接口。此外，开漏模式还可以方便地实现“线与”逻辑功能。


#### 中断

51子系列允许5个中断源
外部中断源（2个）：
INT0——由P3.2端口线引入，低电平或下降沿引起
INT1——由P3.3端口线引入，低电平或下降沿引起

这两个外部中断源标志和它们的触发方式控制位由特殊功能寄存器TCON的低四位控制

内部中断源（3个）：
T0——定时器/计数器0中断，由T0回零溢出引起
T1——定时器/计数器1中断，由T1回零溢出引起
TI/RI——串行I/O中断，串行端口完成一帧字符发送/接收后引起

这三个内部中断源的控制位分别锁存在特殊功能寄存器TCON和SCON中。
https://www.codenong.com/cs105889543/


### 时钟DS1302 


### 传感器GP2Y1010AU0F 


### ADC 


### 显示电路LCD1602 



### 存储AT24C02



